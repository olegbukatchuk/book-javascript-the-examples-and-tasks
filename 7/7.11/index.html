<!DOCTYPE HTML>
<html>
<head>
    <title>Листинг 7.11</title>
    <script type="text/javascript">
        var myrand = Math.floor(10 * Math.random()) + 1;
        var si;
        var mytime, myfield, mybtn, output;
        function setNewTime() {
            var num = parseInt(mytime.innerHTML) - 1;
            mytime.innerHTML = num;
            if (num == 0) {
                mybtn.disabled = true;
                clearInterval(si);
            }
        }
        function pressMe() {
            var num = parseInt(myfield.value);
            output.innerHTML += "Вы ввели число " + num;
            if (num != myrand) {
                output.innerHTML += " - это <b>неправильно</b><br>";
            } else {
                output.innerHTML += " - это <b>правильно</b><br>";
                mybtn.disabled = true;
                clearInterval(si);
            }
        }
        window.onload = function() {
            mytime = document.getElementById("mytime");
            myfield = document.getElementById("myfield");
            mybtn = document.getElementById("mybtn");
            output = document.getElementById("output");
            mybtn.disabled = false;
            si = setInterval(setNewTime, 1000);
        }
    </script>
    </head>
    <body>
        <h3>Листинг 7.11</h3>
        <b>Угадайте число (от 1 до 10).</b><br>
        У вас осталось <b id="mytime">20</b> секунд.<br>
        Чтобы начать заново - перезагрузите документ.
        <hr>
        <input id="myfield" type="text" size="10px">
        <input id="mybtn" type="button" value="Угадать" onclick="pressMe()"> <hr>
        <p id="output"></p>
    </body>
</html>